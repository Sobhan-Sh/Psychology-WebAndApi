@model PC.Dto.Test.TestViewModel
@{
    ViewData["Title"] = "آزمون ها";
    bool IsFormatAnswer = true;
    if (Model.QuestionViewModel.FirstOrDefault().AnswerViewModels.Count < 4)
        IsFormatAnswer = false;
    int QuestionCount = Model.QuestionViewModel.Count;
}
<div class="container">
    <div dir="rtl" class="swiper mySwiper_question">
        <div class="swiper-wrapper">
            @foreach (var question in Model.QuestionViewModel)
            {
                <div class="swiper-slide">
                    <!--* card -->
                    <section class="mx-auto mt-5 mt-lg-4 pt-5 pt-lg-0 card-question-form">
                        <section class="card mx-auto py-5 pb-3">
                            <!--* title card -->
                            <section class="card-title">
                                <h3> @question.Title </h3>
                            </section>
                            <hr>
                            <!--* body card -->
                            <section class="card-body px-0 d-flex flex-wrap flex-md-row justify-content-center">
                                <button class="btn col-6 col-md-2 next">
                                    بعدی
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="arrow">
                                        <path fill="#8c9eff"
                                              d="M21.88,11.52A1,1,0,0,0,21,11H11a1,1,0,0,0-.85,1.53l5,8a1,1,0,0,0,1.7,0l5-8A1,1,0,0,0,21.88,11.52Z">
                                        </path>
                                        <path fill="#5f7cf9"
                                              d="M21,11H16V21a1,1,0,0,0,.85-.47l5-8A1,1,0,0,0,21,11Z"></path>
                                    </svg>
                                </button>
                                <button class="btn col-6 col-md-2 d-md-none prev">
                                    قبلی
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="arrow">
                                        <path fill="#8c9eff"
                                              d="M21.88,11.52A1,1,0,0,0,21,11H11a1,1,0,0,0-.85,1.53l5,8a1,1,0,0,0,1.7,0l5-8A1,1,0,0,0,21.88,11.52Z">
                                        </path>
                                        <path fill="#5f7cf9"
                                              d="M21,11H16V21a1,1,0,0,0,.85-.47l5-8A1,1,0,0,0,21,11Z"></path>
                                    </svg>
                                </button>
                                <ol class="list-group col-11 col-md-8 mx-auto mx-md-0 list-group-flush list-group-numbered rounded">
                                    @foreach (var answer in question.AnswerViewModels)
                                    {
                                        <!--? item -->
                                        <li class="cntr list-group-item list-group-item-primary w-100 d-flex justify-content-between align-items-center">
                                            <div class="ms-2 me-auto py-2">
                                                @answer.Title
                                            </div>
                                            <section class="d-flex align-items-center">
                                                <input name="answer@(question.Id)" value="@answer.Id" type="@(IsFormatAnswer?"checkbox":"radio")">
                                                <div class="checkmark"></div>
                                            </section>
                                        </li>
                                    }
                                </ol>
                                <button class="btn col-2 d-none d-md-block prev">
                                    قبلی
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="arrow">
                                        <path fill="#8c9eff"
                                              d="M21.88,11.52A1,1,0,0,0,21,11H11a1,1,0,0,0-.85,1.53l5,8a1,1,0,0,0,1.7,0l5-8A1,1,0,0,0,21.88,11.52Z">
                                        </path>
                                        <path fill="#5f7cf9"
                                              d="M21,11H16V21a1,1,0,0,0,.85-.47l5-8A1,1,0,0,0,21,11Z"></path>
                                    </svg>
                                </button>
                                @{
                                    QuestionCount--;
                                    if (QuestionCount == 0)
                                    {
                                        <a type="button" onclick="SetTest()" class="btn btn-custom mt-2"> اتمام آزمون </a>
                                    }
                                }
                            </section>
                        </section>
                    </section>
                </div>
            }
        </div>
        <div class="swiper-pagination position-relative"></div>
    </div>
</div>